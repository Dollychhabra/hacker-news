(this["webpackJsonphacker-news"]=this["webpackJsonphacker-news"]||[]).push([[0],{40:function(e,t,a){e.exports=a(71)},50:function(e,t,a){},51:function(e,t,a){},52:function(e,t,a){},70:function(e,t,a){},71:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),c=a(14),s=a.n(c),o=a(12),i=a(13),l=function(e){return e.homePageData},u=Object(i.a)(l,(function(e){return e.data})),m=(Object(i.a)(l,(function(e){return e.data.nbPages})),Object(i.a)(l,(function(e){return e.data.page})),"HACKER_NEWS_APP/HOME_PAGE/FETCH_HOME_PAGE_DATA"),d="HACKER_NEWS_APP/HOME_PAGE/FETCH_HOME_PAGE_DATA_ERROR",f="HACKER_NEWS_APP/HOME_PAGE/HIDE_DATA",h=a(9),p=a(32),E=a.n(p),v=function(e){var t=e.children,a=e.to,n=e.type,c=e.className,s=e.onClick,o=e.role,i=Object(h.a)(e,["children","to","type","className","onClick","role"]);return r.a.createElement("a",Object.assign({role:o,href:a,className:E()("cta",n,c),onClick:s,"data-hal-action-name":"string"===typeof t&&"text: ".concat(t)},i),t)};v.defaultProps={className:"",children:null,type:"",onClick:null,role:"link"};var b=v,O=function(e){var t=e.item,a=e.className,n=e.style;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:a,style:n},r.a.createElement(b,{keys:t.name,to:t.url},t.name)))},g=function(e){var t=e.className,a=e.src,n=e.srcset,c=(e.sizes,e.alt),s=Object(h.a)(e,["className","src","srcset","sizes","alt"]);return r.a.createElement(r.a.Fragment,null,r.a.createElement("img",Object.assign({className:t,src:a,srcSet:n||null,alt:c,onError:function(e){e.target.style.display="none"}},s)))};g.defaultProps={srcset:"",className:""};var j=g,y=function(e){var t=e.children,a=e.className,n=(e.inheritedStyles,Object(h.a)(e,["children","className","inheritedStyles"]));return r.a.createElement("p",Object.assign({className:a},n),t)};y.defaultProps={inheritedStyles:"",className:""};var _=y,N=function(e){var t=e.className,a=e.ListType,n=e.children,c=Object(h.a)(e,["className","ListType","children"]);return r.a.createElement(a,Object.assign({className:t},c),n)};N.defaultProps={inheritedStyles:"",ListType:"ul",className:"",borderseparator:!1,nodefaultview:!1,inline:!1,nested:!1,nomargin:!1};var w=N,A=(a(50),function(e){var t=e.currentPage,a=e.fetchHomePageData,n=e.totalPages,c=t+1;return function(e,t){return!(!t||e===t)}(c,n)&&r.a.createElement("div",{className:"load-more sm-text-center md-text-initial"},r.a.createElement(b,{onClick:function(e){e.preventDefault(),a({page:c})},className:"load-more-link"},"More"))}),P=(a(51),"HACKER_NEWS_APP/LIST/VOTE_KEY"),S="HACKER_NEWS_APP/LIST/VOTE",k=(a(52),function(e){var t=e.vote,a=e.objectId;return r.a.createElement(b,{onClick:function(e){e.preventDefault(),t({objectId:a,voted:!0})},className:"up-vote-link"},r.a.createElement("div",{className:"up-vote-arrow"}))}),I=Object(o.b)(null,(function(e){return{vote:function(t){e(function(e){return{type:S,data:e}}(t))}}}))(k),T=function(e){var t=e.hideData,a=e.homePageData;return r.a.createElement("div",{className:"homepage"},r.a.createElement("div",{className:"homepage-header flex align-center"},r.a.createElement(b,{to:"/",className:"hompage-header-icon"},r.a.createElement(j,{src:"y18.gif",width:"18",height:"18",className:"header-image"})),[{name:"top",url:"/"},{name:"new",url:"/"}].map((function(e){return r.a.createElement(O,{item:e,className:"header-container"})}))),r.a.createElement(w,{className:"list-container"},a&&a.hits.map((function(e){return r.a.createElement("div",{className:"list-content flex align-center"},r.a.createElement("div",{className:"comments"},e.num_comments),r.a.createElement("div",{className:"points flex"},e.points,!e.voted&&r.a.createElement(I,{objectId:e.objectID})),r.a.createElement(_,{className:"story-details"},r.a.createElement("span",{className:"story-title"},e.title),r.a.createElement(b,{to:e.url,className:"story-url"},"(".concat(e.url,")")),r.a.createElement("span",{className:"keyword-by"},"by"),r.a.createElement("span",{className:"story-author"},e.author),r.a.createElement("span",{className:"story-time"},(a=e.created_at,new Date(a).getUTCHours()),r.a.createElement("span",{className:"hours-ago-keyword"},"hours ago")),r.a.createElement("span",{className:"hide-brackets"},"["),r.a.createElement(b,{onClick:function(a){a.preventDefault(),t(e.objectId)}},"hide"),r.a.createElement("span",{className:"hide-brackets"},"]")));var a}))),r.a.createElement(A,null))},C=Object(i.b)({homePageData:u}),D=Object(o.b)(C,(function(e){return{fetchHomePageData:function(){var t;e({type:m,params:t})},hideData:function(t){e({type:f,data:t})}}}))(T);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var H,x=a(8),R=a(39),W=a(33),F=a(4),M={isFetching:!1,data:{hits:[],nbPages:0,page:0},error:null},K=a(38),G=a(16),L=function e(){var t=this;Object(G.a)(this,e),this.getItem=function(e){return J()&&"undefined"!==typeof t.storage?t.storage.getItem(e):""},this.saveItem=function(e,a){J()&&t.storage.setItem(e,a)},this.removeItem=function(e){J()&&t.storage.removeItem(e)},this.saveItemInArray=function(e,a){var n=JSON.parse(t.getItem(e)||"[]");n.push(a),t.saveItem(e,JSON.stringify(n))},this.removeItemFromArray=function(e,a){var n=JSON.parse(t.getItem(e)||"[]"),r=n.findIndex((function(e){return e===a}));n.splice(r,1),t.saveItem(e,JSON.stringify(n))},this.storage={},J()&&(this.storage=window.localStorage)},J=function(){if("undefined"===typeof window)return!1;var e=window.localStorage;try{e.setItem("testkey","test"),e.removeItem("testkey")}catch(t){if(t.code===DOMException.QUOTA_EXCEEDED_ERR&&0===e.length)return!1}return!0},U=function(e,t){var a=e.data,n=Object(h.a)(e,["data"]),r=a.hits,c=r.findIndex((function(e){return e.objectID===t}));return r.splice(c,1),Object(F.a)({data:Object(F.a)(Object(F.a)({},a),{},{hits:Object(K.a)(r)})},n)},B=M,q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.data,r=t.error;switch(a){case m:return Object(F.a)(Object(F.a)({},e),{},{isFetching:!0});case"HACKER_NEWS_APP/HOME_PAGE/FETCH_HOME_PAGE_DATA_SUCCESS":return Object(F.a)(Object(F.a)({},e),{},{isFetching:!1,data:n});case d:return Object(F.a)(Object(F.a)({},e),{},{isFetching:!1,error:r});case f:return U(e,n);case S:return Object(F.a)(Object(F.a)({},e),{},{data:Object(F.a)({},e.data)});default:return e}},V=a(6),z=a.n(V),Q=a(11);"undefined"!==typeof document&&(H=(0,a(72).createBrowserHistory)());var X=H,Y={search:"https://hn.algolia.com/api/v1/search"},$=a(34),Z=a(35),ee=a(36),te=a.n(ee),ae=a(37);a.n(ae).a.polyfill();var ne=new(function(){function e(){Object(G.a)(this,e),this.basePath=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).API_BASE_PATH||"",this.fetch=this.fetch.bind(this)}return Object(Z.a)(e,[{key:"fetch",value:function(){var e=Object($.a)(z.a.mark((function e(t,a){var n,r,c;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object(F.a)({url:"".concat(this.basePath).concat(t),withCredentials:!1},a),e.prev=1,e.next=4,te()(r);case 4:c=e.sent,n=c.data,e.next=11;break;case 8:throw e.prev=8,e.t0=e.catch(1),e.t0;case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(t,a){return e.apply(this,arguments)}}()}]),e}()),re=function(e){if("object"===typeof e){var t=e.pathName,a=e.query,n=t;return"object"===typeof a&&(n+="?".concat(function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=[],a=Object.keys(e),n=0,r=a.length;n<r;n+=1){var c="".concat(e[a[n]]);t.push("".concat(a[n],"=").concat(c))}return t.join("&")}(a))),n}return e},ce=z.a.mark(ie),se=z.a.mark(le),oe=function(e){if(X&&Object.keys(e).indexOf("page")>-1){var t=re({pathName:"/",query:Object(F.a)({},e)});X.push(t)}};function ie(e){var t,a,n,r;return z.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,t=e.params,a=void 0===t?{}:t,n=re({pathName:Y.search,query:Object(F.a)({tags:"front_page"},a)}),c.next=5,Object(Q.b)(ne.fetch,n);case 5:return r=c.sent,c.next=8,Object(Q.c)({type:"HACKER_NEWS_APP/HOME_PAGE/FETCH_HOME_PAGE_DATA_SUCCESS",data:r});case 8:oe(a),c.next=15;break;case 11:return c.prev=11,c.t0=c.catch(0),c.next=15,Object(Q.c)((s=c.t0,{type:d,error:s}));case 15:case"end":return c.stop()}var s}),ce,null,[[0,11]])}function le(){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Q.d)(m,ie);case 2:case"end":return e.stop()}}),se)}var ue=z.a.mark(de),me=z.a.mark(fe);function de(e){var t,a,n,r;return z.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:t=e.data,a=t.objectId,n=t.voted,r=new L,n?r.saveItemInArray(P,a):r.removeItemFromArray(P,a);case 3:case"end":return c.stop()}}),ue)}function fe(){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Q.d)(S,de);case 2:case"end":return e.stop()}}),me)}var he=z.a.mark(pe);function pe(){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Q.a)([le(),fe()]);case 2:case"end":return e.stop()}}),he)}var Ee=Object(R.a)(),ve=function(e){var t=Object(x.createStore)(Object(x.combineReducers)({homePageData:q}),e,Object(W.composeWithDevTools)(Object(x.applyMiddleware)(Ee)));return Ee.run(pe),t},be=(a(70),window.__STATE__);delete window.__STATE__;var Oe=ve(be);s.a.hydrate(r.a.createElement(o.a,{store:Oe},r.a.createElement(D,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[40,1,2]]]);
//# sourceMappingURL=main.654d3978.chunk.js.map