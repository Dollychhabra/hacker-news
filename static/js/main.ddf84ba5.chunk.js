(this["webpackJsonphacker-news"]=this["webpackJsonphacker-news"]||[]).push([[0],{22:function(e,t,a){},40:function(e,t,a){e.exports=a(71)},50:function(e,t,a){},51:function(e,t,a){},52:function(e,t,a){},70:function(e,t,a){},71:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),c=a(14),s=a.n(c),o=a(10),i=a(13),u=function(e){return e.homePageData},l=Object(i.a)(u,(function(e){return e.data})),m=Object(i.a)(u,(function(e){return e.data.nbPages})),d=Object(i.a)(u,(function(e){return e.data.page})),f="HACKER_NEWS_APP/HOME_PAGE/FETCH_HOME_PAGE_DATA",h="HACKER_NEWS_APP/HOME_PAGE/FETCH_HOME_PAGE_DATA_ERROR",p=function(e){return{type:f,params:e}},E=a(11),v=function(e){if("object"===typeof e){var t=e.pathName,a=e.query,n=t;return"object"===typeof a&&(n+="?".concat(function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=[],a=Object.keys(e),n=0,r=a.length;n<r;n+=1){var c="".concat(e[a[n]]);t.push("".concat(a[n],"=").concat(c))}return t.join("&")}(a))),n}return e},b=function(e){var t=e.children,a=e.to,n=e.className,c=e.handleClick,s=e.target,o=Object(E.a)(e,["children","to","className","handleClick","target"]);return r.a.createElement("a",Object.assign({},o,{href:v(a),className:n,onClick:c,target:s}),t)};b.defaultProps={className:"",target:"_self",handleClick:function(){},to:""};var O=b,g=function(e){var t=e.item,a=e.className,n=e.style;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:a,style:n},r.a.createElement(O,{keys:t.name,to:t.url},t.name)))},_=function(e){var t=e.className,a=e.src,n=e.srcset,c=(e.sizes,e.alt),s=Object(E.a)(e,["className","src","srcset","sizes","alt"]);return r.a.createElement(r.a.Fragment,null,r.a.createElement("img",Object.assign({className:t,src:a,srcSet:n||null,alt:c,onError:function(e){e.target.style.display="none"}},s)))};_.defaultProps={srcset:"",className:""};var j=_,y=a(38),N=a(4),A=a(16),P=function e(){var t=this;Object(A.a)(this,e),this.getItem=function(e){return w()&&"undefined"!==typeof t.storage?t.storage.getItem(e):""},this.saveItem=function(e,a){w()&&t.storage.setItem(e,a)},this.removeItem=function(e){w()&&t.storage.removeItem(e)},this.saveItemInArray=function(e,a){var n=JSON.parse(t.getItem(e)||"[]");n.push(a),t.saveItem(e,JSON.stringify(n))},this.removeItemFromArray=function(e,a){var n=JSON.parse(t.getItem(e)||"[]"),r=n.findIndex((function(e){return e===a}));n.splice(r,1),t.saveItem(e,JSON.stringify(n))},this.storage={},w()&&(this.storage=window.localStorage)},w=function(){if("undefined"===typeof window)return!1;var e=window.localStorage;try{e.setItem("testkey","test"),e.removeItem("testkey")}catch(t){if(t.code===DOMException.QUOTA_EXCEEDED_ERR&&0===e.length)return!1}return!0},I="HACKER_NEWS_APP/HOME_PAGE/HIDE_DATA",S="HACKER_NEWS_APP/HOME_PAGE/VOTE_KEY",D="HACKER_NEWS_APP/HOME_PAGE/VOTE",H=function(e,t){var a=e.data,n=Object(E.a)(e,["data"]),r=a.hits,c=r.findIndex((function(e){return e.objectID===t}));return r.splice(c,1),Object(N.a)({data:Object(N.a)(Object(N.a)({},a),{},{hits:Object(y.a)(r)})},n)},k=(a(22),a(50),function(e){var t=e.currentPage,a=e.fetchHomePageData,n=e.totalPages,c=t+1;return function(e,t){return!(!t||e===t)}(c,n)&&r.a.createElement("div",{className:"load-more sm-text-center md-text-initial"},r.a.createElement(O,{handleClick:function(e){e.preventDefault(),a({page:c})},className:"load-more-link"},"More"))}),x=Object(i.b)({currentPage:d,totalPages:m}),C=Object(o.b)(x,(function(e){return{fetchHomePageData:function(t){e(p(t))}}}))(k),T=function(e){var t=e.children,a=e.className,n=(e.inheritedStyles,Object(E.a)(e,["children","className","inheritedStyles"]));return r.a.createElement("p",Object.assign({className:a},n),t)};T.defaultProps={inheritedStyles:"",className:""};var M=T,R=function(e){var t=e.className,a=e.ListType,n=e.children,c=Object(E.a)(e,["className","ListType","children"]);return r.a.createElement(a,Object.assign({className:t},c),n)};R.defaultProps={inheritedStyles:"",ListType:"ul",className:"",borderseparator:!1,nodefaultview:!1,inline:!1,nested:!1,nomargin:!1};var K=R,W={prefix:"",suffix:" ago",seconds:"less than a minute",minute:"about a minute",minutes:"%d minutes",hour:"about an hour",hours:"about %d hours",day:"a day",days:"%d days",month:"about a month",months:"%d months",year:"about a year",years:"%d years"},G=function(e,t){return W[e]&&W[e].replace(/%d/i,Math.abs(Math.round(t)))},F=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!e)return null;var a=t?new Date(t):new Date,n=.001*a.getTime()-e,r=n/60,c=r/60,s=c/24,o=s/365;return W.prefix+(n<45&&G("seconds",n)||n<90&&G("minute",1)||r<45&&G("minutes",r)||r<90&&G("hour",1)||c<24&&G("hours",c)||c<42&&G("day",1)||s<30&&G("days",s)||s<45&&G("month",1)||s<365&&G("months",s/30)||o<1.5&&G("year",1)||G("years",o))+W.suffix},J=(a(51),function(e){var t=e.vote,a=e.objectId;return e.voted?" ":r.a.createElement(O,{onClick:function(e){e.preventDefault(),t({objectId:a,voted:!0})},className:"up-vote-link"},r.a.createElement("div",{className:"up-vote-arrow"}))});J.defaultProps={voted:!1};var B=J,L=Object(o.b)(null,(function(e){return{vote:function(t){e(function(e){return{type:D,data:e}}(t))}}}))(B),U=(a(52),function(e){var t=e.hideData,a=e.objectId;return r.a.createElement(O,{className:"hide-btn",handleClick:function(e){e.preventDefault(),t(a)}},"hide")}),q=Object(o.b)(null,(function(e){return{hideData:function(t){e({type:I,data:t})}}}))(U),V=function(e){var t=e.hits;return r.a.createElement(K,{className:"list-container"},t&&t.map((function(e){return r.a.createElement("div",{className:"list-content flex align-center"},r.a.createElement("div",{className:"comments"},e.num_comments),r.a.createElement("div",{className:"points flex"},e.points,!e.voted&&r.a.createElement(L,{objectId:e.objectID})),r.a.createElement(M,{className:"story-details"},r.a.createElement("span",{className:"story-title"},e.title),r.a.createElement("span",{className:"story-url"},"(".concat(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=e||"",a=t.replace("http://","").replace("https://","").split(/[/?#]/);return a[0]}(e.url),")")),r.a.createElement("span",{className:"keyword-by"},"by"),r.a.createElement("span",{className:"story-author"},e.author),r.a.createElement("span",{className:"story-time"},F(e.created_at_i)),r.a.createElement("span",{className:"hide-brackets"},"["),r.a.createElement(q,{objectId:e.objectID}),r.a.createElement("span",{className:"hide-brackets"},"]")))})))},Y=function(e){var t=function(e){var t=new P,a=JSON.parse(t.getItem(S)||"[]");if(a.length){var n=e.hits.map((function(e){var t=Object(N.a)({},e);return a.indexOf(t.objectID)>-1&&(t.voted=!0),t}));return Object(N.a)(Object(N.a)({},e),{},{hits:n})}return e}(function(e){var t=new P,a=JSON.parse(t.getItem("HACKER_NEWS_APP/HOME_PAGE/HIDE_DATA_KEY")||"[]");if(a.length){var n=e.hits.filter((function(e){return-1===a.indexOf(e.objectID)}));return Object(N.a)(Object(N.a)({},e),{},{hits:n})}return e}(e.homePageData)),a=t&&t.hits?t.hits:"";return r.a.createElement("div",{className:"homepage"},r.a.createElement("div",{className:"homepage-header flex align-center"},r.a.createElement(O,{className:"hompage-header-icon"},r.a.createElement(j,{src:"/images/logo.png",width:"18",height:"18",className:"header-image"})),[{name:"top"},{name:"new"}].map((function(e){return r.a.createElement(g,{item:e,className:"header-container"})}))),r.a.createElement(V,{hits:a}),r.a.createElement(C,null))},z=Object(i.b)({homePageData:l}),Q=Object(o.b)(z,(function(e){return{fetchHomePageData:function(){e(p())}}}))(Y);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var X,$=a(9),Z=a(39),ee=a(33),te={isFetching:!1,data:{hits:[],nbPages:0,page:0},error:null},ae=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:te,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.data,r=t.error;switch(a){case f:return Object(N.a)(Object(N.a)({},e),{},{isFetching:!0});case"HACKER_NEWS_APP/HOME_PAGE/FETCH_HOME_PAGE_DATA_SUCCESS":return Object(N.a)(Object(N.a)({},e),{},{isFetching:!1,data:n});case h:return Object(N.a)(Object(N.a)({},e),{},{isFetching:!1,error:r});case I:return H(e,n);case D:return Object(N.a)(Object(N.a)({},e),{},{data:Object(N.a)({},e.data)});default:return e}},ne=a(5),re=a.n(ne),ce=a(8);"undefined"!==typeof document&&(X=(0,a(72).createBrowserHistory)());var se=X,oe={search:"https://hn.algolia.com/api/v1/search"},ie=a(34),ue=a(35),le=a(36),me=a.n(le),de=a(37);a.n(de).a.polyfill();var fe=new(function(){function e(){Object(A.a)(this,e),this.basePath=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).API_BASE_PATH||"",this.fetch=this.fetch.bind(this)}return Object(ue.a)(e,[{key:"fetch",value:function(){var e=Object(ie.a)(re.a.mark((function e(t,a){var n,r,c;return re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object(N.a)({url:"".concat(this.basePath).concat(t),withCredentials:!1},a),e.prev=1,e.next=4,me()(r);case 4:c=e.sent,n=c.data,e.next=11;break;case 8:throw e.prev=8,e.t0=e.catch(1),e.t0;case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(t,a){return e.apply(this,arguments)}}()}]),e}()),he=re.a.mark(ve),pe=re.a.mark(be),Ee=function(e){if(se&&Object.keys(e).indexOf("page")>-1){var t=v({pathName:"/",query:Object(N.a)({},e)});se.push(t)}};function ve(e){var t,a,n,r;return re.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,t=e.params,a=void 0===t?{}:t,n=v({pathName:oe.search,query:Object(N.a)({tags:"front_page"},a)}),c.next=5,Object(ce.b)(fe.fetch,n);case 5:return r=c.sent,c.next=8,Object(ce.c)({type:"HACKER_NEWS_APP/HOME_PAGE/FETCH_HOME_PAGE_DATA_SUCCESS",data:r});case 8:Ee(a),c.next=15;break;case 11:return c.prev=11,c.t0=c.catch(0),c.next=15,Object(ce.c)((s=c.t0,{type:h,error:s}));case 15:case"end":return c.stop()}var s}),he,null,[[0,11]])}function be(){return re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ce.d)(f,ve);case 2:case"end":return e.stop()}}),pe)}var Oe=re.a.mark(_e),ge=re.a.mark(je);function _e(e){var t,a,n,r;return re.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:t=e.data,a=t.objectId,n=t.voted,r=new P,n?r.saveItemInArray(S,a):r.removeItemFromArray(S,a);case 3:case"end":return c.stop()}}),Oe)}function je(){return re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ce.d)(D,_e);case 2:case"end":return e.stop()}}),ge)}var ye=re.a.mark(Ae),Ne=re.a.mark(Pe);function Ae(e){var t;return re.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:t=e.data,(new P).saveItemInArray("HACKER_NEWS_APP/HOME_PAGE/HIDE_DATA_KEY",t);case 3:case"end":return a.stop()}}),ye)}function Pe(){return re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ce.d)(I,Ae);case 2:case"end":return e.stop()}}),Ne)}var we=re.a.mark(Ie);function Ie(){return re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ce.a)([be(),Pe(),je()]);case 2:case"end":return e.stop()}}),we)}var Se=Object(Z.a)(),De=function(e){var t=Object($.createStore)(Object($.combineReducers)({homePageData:ae}),e,Object(ee.composeWithDevTools)(Object($.applyMiddleware)(Se)));return Se.run(Ie),t},He=(a(70),window.__STATE__);delete window.__STATE__;var ke=De(He);s.a.hydrate(r.a.createElement(o.a,{store:ke},r.a.createElement(Q,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[40,1,2]]]);
//# sourceMappingURL=main.ddf84ba5.chunk.js.map